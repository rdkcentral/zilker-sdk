{
	"enabled":	true,
	"spec":	"{\"sheensVersion\":1,\"name\":\"1\",\"nodes\":{\"start\":{\"branching\":{\"type\":\"message\",\"branches\":[{\"pattern\":{\"_evId\":\"??_evId\",\"_evTime\":\"?_evTime\",\"_sunrise\":\"?_sunrise\",\"_sunset\":\"?_sunset\",\"_systemStatus\":\"?_systemStatus\",\"_evCode\":42,\"entryDelayEvent\":{\"panelStatus\":{\"systemPanelStatus\":{}}}},\"target\":\"5DDEFA45-8AE7-4B2F-BE1D-3CFEEAEF4400\"},{\"pattern\":{\"_evId\":\"??_evId\",\"_evTime\":\"?_evTime\",\"_sunrise\":\"?_sunrise\",\"_sunset\":\"?_sunset\",\"_systemStatus\":\"?_systemStatus\",\"_evCode\":43,\"alarmEvent\":{\"panelStatus\":{\"systemPanelStatus\":{}}}},\"target\":\"C44D60E5-AE33-4135-A642-AD3EBAECBEDA\"}]}},\"5DDEFA45-8AE7-4B2F-BE1D-3CFEEAEF4400\":{\"action\":{\"interpreter\":\"ecmascript-5.1\",\"source\":\"_.bindings['_evCode'] = 42; return _.bindings;\"},\"branching\":{\"branches\":[{\"target\":\"constraints\"}]}},\"C44D60E5-AE33-4135-A642-AD3EBAECBEDA\":{\"action\":{\"interpreter\":\"ecmascript-5.1\",\"source\":\"_.bindings['_evCode'] = 43; return _.bindings;\"},\"branching\":{\"branches\":[{\"target\":\"constraints\"}]}},\"actions\":{\"action\":{\"interpreter\":\"ecmascript-5.1\",\"source\":\"if (!('??_evId' in _.bindings)) {\\n  _.bindings['??_evId'] = null;\\n} else if ('_evOnDemandEventRequired' in _.bindings) {\\n  _.bindings['??origEvId'] = _.bindings['??_evId'];\\n  _.bindings['??_evId'] = 0;\\n}\\n_.out([{\\\"jsonrpc\\\":\\\"2.0\\\",\\\"method\\\":\\\"takePictureAction\\\",\\\"params\\\":{\\\"ruleId\\\":1,\\\"eventCode\\\":_.bindings['_evCode'],\\\"eventId\\\":_.bindings['??_evId'],\\\"time\\\":_.bindings['?_evTime'],\\\"count\\\":5,\\\"quality\\\":\\\"medium\\\"}}]);\\nreturn _.bindings;\\n\"},\"branching\":{\"branches\":[{\"target\":\"reset\"}]}},\"constraints\":{\"branching\":{\"branches\":[{\"target\":\"actions\"}]}},\"reset\":{\"action\":{\"interpreter\":\"ecmascript-5.1\",\"source\":\"return ('persist' in _.bindings) ? {'persist': _.bindings['persist']} : {};\\n\"},\"branching\":{\"branches\":[{\"target\":\"start\"}]}}}}",
	"dateCreated":	1570182723,
	"consumedCount":	0,
	"emittedCount":	0,
	"origSpec":	"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\n<!-- \n  - \n  - Internal rule to take pictures from ALL cameras when we get a ENTRY_DELAY or ALARM_SESSION event\n  - In theory we should add a system constraint of ARMED, yet none of these events will ever\n  - fire if we're not armed; therefore not adding it due to the timing of getting ALARM_CLEAR\n  - and still being armed or not.\n  - \n  - Note that the ID is \"1\", which is safe since the user defined rules start at \"100\"\n  - \n  -->\n<p:rule ruleID=\"1\" \n\txmlns:p=\"http://ucontrol.com/rules/v1.0\" \n\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n\txsi:schemaLocation=\"http://ucontrol.com/rules/v1.0 rules.xsd \">\n\n\t<!-- \n\t  - setup 3 triggers that are ORd together:\n\t  -  ENTRY delay, ALARM start, ALARM cancel\n\t  -->\n\t<p:triggerList isNegative=\"false\" logic=\"OR\">\n\t\t\n\t\t<!-- trigger to start taking pics on \"entry delay\" -->\n\t\t<p:touchscreenTrigger>\n\t\t\t<p:description>Entry Delay Trigger</p:description>\n\t\t\t<p:category>touchscreen</p:category>\n\t\t\t<p:touchscreenState>entry_delay</p:touchscreenState>\n\t\t</p:touchscreenTrigger>\n\t\t\n\t\t<!-- trigger to start taking pics on \"alarm\" -->\n\t\t<p:touchscreenTrigger>\n\t\t\t<p:description>Alarm Start Trigger</p:description>\n\t\t\t<p:category>touchscreen</p:category>\n\t\t\t<p:touchscreenState>alarm</p:touchscreenState>\n\t\t</p:touchscreenTrigger>\n\t\t\n\t</p:triggerList>\n\t\n\t<!-- Run the action of a workflow to take pictures and deliver them to the server -->\n\t<p:action>\n\t\t<p:actionID>1000</p:actionID>\n\t\t<p:parameter>\n\t\t\t<p:key>count</p:key>\n\t\t\t<p:value>5</p:value>\n\t\t</p:parameter>\n\t\t<p:parameter>\n\t\t\t<p:key>size</p:key>\n\t\t\t<p:value>medium</p:value>\n\t\t</p:parameter>\n\t</p:action>\n  \n\t<p:description>Take Pictures on Alarm From all Cameras</p:description>\n\t\n</p:rule>\n",
	"transcoderVersion":	11
}